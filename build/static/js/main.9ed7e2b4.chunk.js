(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){},114:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),l=a.n(o),c=(a(94),a(43)),i=a(30),s=a(14),u=a(15),m=a(17),d=a(16),p=a(18),h=a(57),g=a.n(h);a(95),a(97);g.a.initializeApp({apiKey:"AIzaSyBgJQ7LzIPBvV9YLAoubWYFeGgAhdgeaaE",authDomain:"burger-queen-eba7f.firebaseapp.com",databaseURL:"https://burger-queen-eba7f.firebaseio.com",projectId:"burger-queen-eba7f",storageBucket:"burger-queen-eba7f.appspot.com",messagingSenderId:"92948560345",appId:"1:92948560345:web:cf972ca5f85a3b10"});var f=g.a,b=a(46),E=a(152),v=a(154),N=Object(E.a)(function(e){return{button:{margin:e.spacing(1)},input:{display:"none"}}}),y=function(e){var t=e.color,a=e.onClick,n=e.text,o=N();return r.a.createElement("div",null,r.a.createElement(v.a,{variant:"contained",color:t,className:o.button,onClick:a},n))},C=a(164),O=Object(E.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:400}}}),k=function(e){var t=e.type,a=e.text,n=e.onChange,o=O();return r.a.createElement(C.a,{required:!0,type:t,label:a,className:o.textField,margin:"normal",variant:"outlined",onChange:n})},j=a(77),x=a.n(j),w=(a(112),a(157)),T=f.auth(),S=f.firestore(),I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e,t){var n=a.state;n[t]=e.target.value,a.setState(n)},a.signIn=function(){var e=a.state,t=e.email,n=e.password,r=a.props.history.push;T.signInWithEmailAndPassword(t,n).then(function(e){e&&S.doc("users/".concat(e.user.uid)).get().then(function(e){var t=e.data();localStorage.setItem("userName",t.displayName),r("/".concat(t.typeUser))})}).catch(function(e){"The password is invalid or the user does not have a password."===e.message||"There is no user record corresponding to this identifier. The user may have been deleted."===e.message?alert("E-mail ou senha inv\xe1lidos."):alert(e.message)})},a.state={email:"",password:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password;return r.a.createElement("div",{className:"PageLogin"},r.a.createElement(w.a,{className:"card"},r.a.createElement("div",null,r.a.createElement("img",{src:x.a,alt:"img-logo",className:"img-logo"})),r.a.createElement("div",{className:"input"},r.a.createElement(k,{text:"E-mail",type:"email",placeholder:"E-mail",value:a,onChange:function(t){return e.handleChange(t,"email")}}),r.a.createElement(k,{text:"Senha",type:"password",placeholder:"Senha",value:n,onChange:function(t){return e.handleChange(t,"password")}}),r.a.createElement(y,{text:"Entrar",color:"primary",onClick:this.signIn})),r.a.createElement("div",{className:"boxRegister"},r.a.createElement(c.b,{to:"/cadastro",className:"linkRegister"},r.a.createElement("span",{className:"textRegister"},"N\xe3o tem conta?")," Cadastre-se "))))}}]),t}(n.Component),F=Object(b.a)({firebaseAppAuth:T})(I),B=Object(E.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:400}}}),P=function(e){var t=e.text,a=e.value,n=e.type,o=e.onChange,l=B();return r.a.createElement(C.a,{label:t,value:a,type:n,onChange:o,className:l.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"})},A=a(165),D=a(167),L=a(158),R=a(155),U=a(156),z=Object(E.a)(function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3)},group:{margin:e.spacing(1,0)}}}),V=function(e){var t=e.value,a=e.onChange,n=z();return r.a.createElement(R.a,{component:"fieldset",className:n.formControl},r.a.createElement(U.a,{component:"legend"},"Tipo de Usu\xe1rio"),r.a.createElement(D.a,{"aria-label":"Tipo de Usu\xe1rio",name:"typeuser",className:n.group,value:t,onChange:a},r.a.createElement(L.a,{value:"salao",control:r.a.createElement(A.a,null),label:"Sal\xe3o"}),r.a.createElement(L.a,{value:"cozinha",control:r.a.createElement(A.a,null),label:"Cozinha"})))},Q=a(160),q=a(161),H=a(120),W=Object(E.a)(function(e){return{root:{flexGrow:1},title:{flexGrow:1}}}),J=function(e){var t=e.click,a=e.btnText,n=W(),o=!!localStorage.getItem("userName"),l=" - Logado como "+localStorage.getItem("userName");return r.a.createElement("div",{className:n.root},r.a.createElement(Q.a,{position:"static"},r.a.createElement(q.a,null,r.a.createElement(H.a,{variant:"h6",className:n.title},"Burger Queen ",o?l:""),r.a.createElement(v.a,{color:"inherit",onClick:t},a))))},$=a(162),G=(a(114),f.auth()),M=f.firestore(),Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e,t){var n=a.state;n[t]=e.target.value,a.setState(n)},a.createUser=function(){var e=a.state,t=e.email,n=e.password,r=e.displayName,o=e.lastName,l=e.dateOfBirth,c=e.typeUser,i=a.props.history.push;a.props.createUserWithEmailAndPassword(t,n).then(function(e){e&&M.doc("users/".concat(e.user.uid)).set({email:t,displayName:r,lastName:o,dateOfBirth:l,typeUser:c}).then(function(){alert("Cadastrado com Sucesso!"),i("/".concat(c))})})},a.clickBack=function(){a.props.history.push("/")},a.state={email:"",displayName:"",lastName:"",dateOfBirth:"",typeUser:"salao"},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;this.props.error&&("The email address is already in use by another account."===this.props.error?alert("O seu e-mail j\xe1 est\xe1 cadastrado."):alert(this.props.error));var t=this.state,a=t.email,n=t.password,o=t.displayName,l=t.lastName,c=t.dateOfBirth,i=t.typeUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{btnText:"Voltar",click:this.clickBack}),r.a.createElement("div",{className:"PageRegister"},r.a.createElement("h3",null,"Cadastre-se"),r.a.createElement($.a,{container:!0,spacing:3},r.a.createElement($.a,{item:!0,xs:12},r.a.createElement(k,{text:"E-mail",type:"text",value:a,onChange:function(t){return e.handleChange(t,"email")}}),r.a.createElement(k,{text:"password",type:"password",value:n,onChange:function(t){return e.handleChange(t,"password")}}),r.a.createElement(k,{text:"Nome",type:"text",value:o,onChange:function(t){return e.handleChange(t,"displayName")}}),r.a.createElement(k,{text:"Sobrenome",type:"text",value:l,onChange:function(t){return e.handleChange(t,"lastName")}}),r.a.createElement(P,{text:"Data de Nascimento",type:"date",value:c,onChange:function(t){return e.handleChange(t,"dateOfBirth")}}),r.a.createElement(V,{value:i,onChange:function(t){return e.handleChange(t,"typeUser")}}),r.a.createElement(y,{text:"Cadastrar",color:"primary",onClick:this.createUser})))))}}]),t}(n.Component),K=Object(b.a)({firebaseAppAuth:G})(Y),X=a(163),Z=a(79),_=a.n(Z),ee=Object(E.a)(function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}),te=function(e){var t=ee();return r.a.createElement("div",null,r.a.createElement(X.a,{variant:"extended",color:e.color,"aria-label":"Add",className:t.margin,onClick:e.onClick},r.a.createElement(_.a,{className:t.extendedIcon}),e.text))},ae=a(53),ne=a.n(ae),re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).tick=function(){var e=a.state.orderTime,t=ne()(e.toDate()).toNow(!0);a.setState({waitingTime:t})},a.state={orderNumber:e.orderNumber,orderTime:e.orderTime,waitingTime:"",clientName:e.clientName,status:e.status},setInterval(function(){a.tick()},1e3),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Pedido: ",this.state.orderNumber),r.a.createElement("p",null,"Nome do Cliente: ",this.state.clientName),r.a.createElement("p",null,"Tempo de Espera: ",this.state.waitingTime))}}]),t}(n.Component),oe=(a(73),f.firestore()),le=f.auth(),ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addOrder=function(){a.props.history.push("/carrinho")},a.getOrders=function(){oe.collection("orders").where("status","==","fechado").orderBy("orderNumber","asc").get().then(function(e){if(e.docs.length>0){var t=[];e.forEach(function(e){t.push(e.data())}),a.setState({ordersClosed:t})}})},a.clickLogout=function(){le.signOut().then(function(){localStorage.removeItem("userName"),a.props.history.push("/")})},a.orderDelivered=function(e){localStorage.removeItem("orderNumber"),localStorage.setItem("orderNumber",e),oe.collection("orders").where("orderNumber","==",parseInt(e)).get().then(function(e){e.forEach(function(e){console.log(e.id," => ",e.data()),oe.collection("orders").doc(e.id).update({status:"entregue"})})}),alert("Pedido Entregue com sucesso."),a.props.history.push("/salao")},a.state={ordersClosed:[]},a.getOrders(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(J,{btnText:"Sair",click:this.clickLogout}),r.a.createElement("main",{className:"Reception"},r.a.createElement("header",null,r.a.createElement(te,{text:"Novo Pedido",color:"secondary",onClick:function(){return e.addOrder()}})),r.a.createElement("section",null,r.a.createElement("p",null,r.a.createElement("b",null,"Pedidos Prontos")),this.state.ordersClosed.map(function(t,a){return r.a.createElement("div",{key:t.orderNumber},r.a.createElement(w.a,null,r.a.createElement(re,{orderNumber:t.orderNumber,orderTime:t.date,clientName:t.nameClient,status:t.status}),r.a.createElement(y,{text:"Pedido Entregue",color:"primary",onClick:function(){return e.orderDelivered(t.orderNumber)}})))}))))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).tick=function(){var e=a.state.orderTime,t=ne()(e.toDate()).toNow(!0);a.setState({waitingTime:t})},a.state={orderNumber:e.orderNumber,orderTime:e.orderTime,waitingTime:"",clientName:e.clientName,status:e.status},setInterval(function(){a.tick()},1e3),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Pedido: ",this.state.orderNumber," "),r.a.createElement("p",null,"Nome do Cliente: ",this.state.clientName),r.a.createElement("p",null,"Tempo de Espera: ",this.state.waitingTime," "))}}]),t}(n.Component),se=(a(116),f.firestore()),ue=f.auth(),me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getOrders=function(){se.collection("orders").where("status","==","aberto").orderBy("orderNumber","asc").get().then(function(e){if(e.docs.length>0){var t=[];e.forEach(function(e){t.push(e.data())}),a.setState({ordersOpened:t})}})},a.clickLogout=function(){ue.signOut().then(function(){localStorage.removeItem("userName"),a.props.history.push("/")})},a.orderDelivered=function(e){localStorage.removeItem("orderNumber"),localStorage.setItem("orderNumber",e),a.props.history.push("/mostrarPedido")},a.state={ordersOpened:[]},a.getOrders(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(J,{btnText:"Sair",click:this.clickLogout}),r.a.createElement("div",null,r.a.createElement("p",null,"Pedidos Abertos"),this.state.ordersOpened.map(function(t){return r.a.createElement(w.a,{key:t.orderNumber},r.a.createElement(ie,{orderNumber:t.orderNumber,orderTime:t.date,clientName:t.nameClient,status:t.status}),r.a.createElement(y,{text:"Ver Pedido",color:"primary",onClick:function(){return e.orderDelivered(t.orderNumber)}}))}),r.a.createElement("hr",null)))}}]),t}(n.Component),de=(a(117),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).minus=function(){var e=a.state.amount-1,t=e*a.state.value;a.setState({amount:e,total:t}),a.props.getTotal(t,a.state.id),a.props.getData({amount:e,total:t,id:a.state.id,product:a.state.product,value:a.state.value})},a.plus=function(){var e=a.state.amount+1,t=e*a.state.value;a.setState({amount:e,total:t}),a.props.getTotal(t,a.state.id),a.props.getData({amount:e,total:t,id:a.state.id,product:a.state.product,value:a.state.value})},a.state={id:e.id,product:e.product,amount:parseInt(e.amount),value:parseFloat(e.value),total:0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,this.state.product),r.a.createElement("td",null,r.a.createElement("button",{className:"buttonTable",onClick:this.minus}," - "),r.a.createElement("span",{className:"amount"},this.state.amount),r.a.createElement("button",{className:"buttonTable",onClick:this.plus}," + ")),r.a.createElement("td",null,"R$",this.state.value),r.a.createElement("td",null,"R$",this.state.total)))}}]),t}(n.Component)),pe=a(159),he=a(80),ge=a.n(he),fe=Object(E.a)(function(e){return{button:{margin:e.spacing(1)},input:{display:"none"}}}),be=function(e){var t=e.onClick,a=fe();return r.a.createElement("div",null,r.a.createElement(pe.a,{color:"primary",className:a.button,"aria-label":"Add to shopping cart",onClick:t},r.a.createElement(ge.a,null)," Fechar Pedido"),r.a.createElement("input",{accept:"image/*",className:a.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{htmlFor:"icon-button-file"}))},Ee=(a(118),f.firestore()),ve={breakfast:[{id:0,item:"Caf\xe9 Americano",price:5},{id:1,item:"Caf\xe9 com Leite",price:7},{id:2,item:"Sandu\xedche de Presunto e Queijo",price:10},{id:3,item:"Suco de Fruta Natural",price:7}],lunch:[{id:4,item:"Hamburguer Simples Bovino",price:10},{id:5,item:"Hamburguer Simples de Frango",price:10},{id:6,item:"Hamburguer Simples Vegetariano",price:10},{id:7,item:"Hamburguer Duplo Bovino",price:15},{id:8,item:"Hamburguer Duplo Frango",price:15},{id:9,item:"Hamburguer Duplo Vegetariano",price:15},{id:10,item:"Queijo",price:1},{id:11,item:"Ovo",price:1},{id:12,item:"Batata Frita",price:5},{id:13,item:"An\xe9is de Cebola",price:5},{id:14,item:"\xc1gua 500ml",price:5},{id:15,item:"\xc1gua 750ml",price:7},{id:16,item:"Bebida gaseificada 500ml",price:7},{id:17,item:"Bebida gaseificada 750ml",price:10}]},Ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e,t){var n=a.state;n[t]=e.target.value,a.setState(n)},a.updateTotal=function(e,t){var n=a.state.itensTotal;n[t]=e,a.setState({itensTotal:n,totalFinal:n.reduce(function(e,t){return e+t})})},a.changeCategory=function(e){a.handleChange(e,"category"),a.setState({itensTotal:[],totalFinal:0})},a.dataItemCart=function(e){var t=a.state.cartItens;t[e.id]=e,a.setState({cartItens:t})},a.clickBuy=function(){var e=a.state,t=e.nameClient,n=e.category,r=e.cartItens,o=e.totalFinal,l=a.props.history.push;Ee.collection("orders").orderBy("orderNumber","desc").limit(1).get().then(function(e){var a=0;e.docs.length>0&&e.forEach(function(e){a=e.data().orderNumber});var c=r.filter(function(e){return"null"!==e&&e.amount>0});Ee.collection("orders").add({orderNumber:parseInt(a)+1,nameEmployee:localStorage.getItem("userName"),nameClient:t,category:n,itens:c,totalFinal:o,date:new Date,status:"aberto"}),alert("Pedido Finalizado com Sucesso!"),l("/salao")})},a.state={orderNumber:1,nameClient:"",nameEmployee:localStorage.getItem("userName"),category:"breakfast",date:new Date,status:"aberto",cartItens:[],itensTotal:[],totalFinal:0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t="lunch"===this.state.category?"lunch":"breakfast";return r.a.createElement(n.Fragment,null,r.a.createElement(k,{text:"Nome do Cliente",type:"text",value:this.state.nameClient,onChange:function(t){return e.handleChange(t,"nameClient")},required:!0}),r.a.createElement("select",{className:"categoryMenu",value:this.state.category,onChange:this.changeCategory},r.a.createElement("option",{value:"breakfast"},"Caf\xe9 da Manh\xe3"),r.a.createElement("option",{value:"lunch"},"Almo\xe7o ou Janta")),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Produto"),r.a.createElement("th",null,"Quantidade"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,ve[t].map(function(t,a){return r.a.createElement(de,{key:t.id,id:a,product:t.item,amount:"0",value:t.price,getTotal:e.updateTotal,getData:e.dataItemCart})}),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"4"},"Total = R$ ",this.state.totalFinal,",00")))),r.a.createElement(be,{onClick:this.clickBuy}))}}]),t}(n.Component),ye=Object(i.e)(Ne),Ce=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{btnText:"Voltar",click:function(){e.history.push("/salao")}}),r.a.createElement("main",{className:"Reception"},r.a.createElement(ye,null)))},Oe=f.firestore(),ke=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).clickBack=function(){a.props.history.push("/cozinha")},a.getOrders=function(){var e=localStorage.getItem("orderNumber");Oe.collection("orders").where("orderNumber","==",parseInt(e)).get().then(function(e){var t=[];e.forEach(function(e){t.push(e.data())}),a.setState({orderOpened:t});var n=t.map(function(e){return e.itens.map(function(e){return e})});[].push(n)})},a.closeOrder=function(){var e=localStorage.getItem("orderNumber");Oe.collection("orders").where("orderNumber","==",parseInt(e)).get().then(function(e){e.forEach(function(e){console.log(e.id," => ",e.data()),Oe.collection("orders").doc(e.id).update({status:"fechado"})})}),alert("Pedido Fechado com sucesso."),a.props.history.push("/cozinha")},a.state={orderOpened:[],itens:[],status:""},a.getOrders(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.orderOpened;return r.a.createElement(n.Fragment,null,r.a.createElement(J,{btnText:"Voltar",click:this.clickBack}),t.map(function(t){return r.a.createElement("div",{key:t.orderNumber},r.a.createElement(ie,{orderNumber:t.orderNumber,orderTime:t.date,clientName:t.nameClient,status:t.status}),r.a.createElement("p",null,"Status: ",t.status),r.a.createElement("p",null," Nome do Atendente: ",t.nameEmployee),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Produto"),r.a.createElement("th",null,"Quantidade"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,t.itens.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.product),r.a.createElement("td",null,e.amount),r.a.createElement("td",null,e.value),r.a.createElement("td",null,e.total))}))),r.a.createElement(y,{text:"Fechar Pedido",color:"primary",onClick:function(){return e.closeOrder(t.orderNumber)}}))}))}}]),t}(n.Component),je=function(){return r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(i.a,{path:"/",exact:!0,component:F}),r.a.createElement(i.a,{path:"/cadastro",exact:!0,component:K}),r.a.createElement(i.a,{path:"/salao",exact:!0,component:ce}),r.a.createElement(i.a,{path:"/cozinha",exact:!0,component:me}),r.a.createElement(i.a,{path:"/carrinho",exact:!0,component:Ce}),r.a.createElement(i.a,{path:"/mostrarPedido",exact:!0,component:ke}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},73:function(e,t,a){},77:function(e,t,a){e.exports=a.p+"static/media/Burger-Queen.fefd060e.png"},89:function(e,t,a){e.exports=a(119)},94:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.9ed7e2b4.chunk.js.map